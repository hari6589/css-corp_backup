<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
 <HEAD>
  <TITLE> JSON </TITLE>
  <META NAME="Generator" CONTENT="EditPlus">
  <META NAME="Author" CONTENT="">
  <META NAME="Keywords" CONTENT="">
  <META NAME="Description" CONTENT="">
 </HEAD>

 <BODY>
	<script>
		var jsonString = '{"statusCode":"SUCCESSFUL","payload":{"storeNumber":"23817","quantity":"4","tireSize":{"crossSection":"225","aspectRation":"65","rimSize":"16"},"tires":{"3436":{"tire":{"article":"3436","brand":"Primewell","tireName":"Valera Touring II","tireGroupName":"Passenger Tires","tireClassName":"Mass Market Tires","tireSegmentName":"Touring","tireSize":"225/65R16","tireType":"Car & Minivan","loadIndex":"100","loadIndexPounds":"1764","speedRating":"T","speedRatingMPH":"118","sidewallDescription":"Black Letter/Black Wall","mileage":"50000","technology":"NONE","warrantyName":"Limited Warranty","description":"PW VALERA TOURING II 225/65R16 100T BL","retailPrice":"77.99","bestInClass":"false","standardOptional":"S","frb":"B","tireBrandName":"Primewell","tireBrandImage":"fcac-logo-Primewell.png","tireImage":"ValeraTouringII.png"}},"132337":{"tire":{"article":"132337","brand":"Bridgestone","tireName":"Dueler H/L 422 Ecopia","tireGroupName":"Light Truck Tires","tireClassName":"Highway Tires","tireSegmentName":"P Metric Light Truck Tires","tireSize":"225/65R16","tireType":"SUV/CUV","loadIndex":"100","loadIndexPounds":"1764","speedRating":"H","speedRatingMPH":"130","sidewallDescription":"Black Letter/Black Wall","mileage":"65000","technology":"NONE","warrantyName":"Platinum Pact Limited Warranty","description":"DUELER H/L 422 ECOPIA 225/65R16 100H BL","retailPrice":"130.01","bestInClass":"true","standardOptional":"S","frb":"B","tireBrandName":"Dueler","tireBrandImage":"Dueler_logo.png","tireImage":"DuelerHL422Ecopia.png"},"storeInventory":{"storeNumber":"23817","articleNumber":"132337","quantityOnHand":"4","quantityOnOrder":"0"}},"6393":{"tire":{"article":"6393","brand":"Bridgestone","tireName":"Ecopia EP422 Plus","tireGroupName":"Performance","tireClassName":"Touring H/V/Z Tires","tireSegmentName":"Performance Tires","tireSize":"225/65R16","tireType":"Car & Minivan","loadIndex":"100","loadIndexPounds":"1764","speedRating":"H","speedRatingMPH":"130","sidewallDescription":"Black Letter/Black Wall","mileage":"70000","technology":"NONE","warrantyName":"Platinum Pact Limited Warranty","description":"ECOPIA EP422 PLUS 225/65R16 100H BL","retailPrice":"114.99","bestInClass":"false","standardOptional":"S","frb":"B","tireBrandName":"Ecopia","tireBrandImage":"Ecopia_logo.png","tireImage":"EcopiaEP422Plus.png"}},"148011":{"tire":{"article":"148011","brand":"Firestone","tireName":"FR710","tireGroupName":"Passenger Tires","tireClassName":"Car & Minivan All-Season","tireSegmentName":"Touring","tireSize":"225/65R16","tireType":"Car & Minivan","loadIndex":"100","loadIndexPounds":"1764","speedRating":"T","speedRatingMPH":"118","sidewallDescription":"Black Letter/Black Wall","mileage":"65000","technology":"NONE","warrantyName":"Gold Pledge Limited Warranty","description":"FR710 225/65R16 100T BL","retailPrice":"92.99","bestInClass":"false","standardOptional":"S","frb":"B","tireBrandName":"Firestone","tireBrandImage":"fcac-logo-Firestone.png","tireImage":"FR710.png"},"storeInventory":{"storeNumber":"23817","articleNumber":"148011","quantityOnHand":"4","quantityOnOrder":"0"}},"13414":{"tire":{"article":"13414","brand":"Bridgestone","tireName":"Blizzak WS80","tireGroupName":"Winter","tireClassName":"Snow Tires","tireSegmentName":"Snow Tires-PS","tireSize":"225/65R16","tireType":"Winter","loadIndex":"100","loadIndexPounds":"1764","speedRating":"T","speedRatingMPH":"118","sidewallDescription":"Black Letter/Black Wall","technology":"WINTER","warrantyName":"Platinum Pact Limited Warranty","description":"BLIZZAK WS80 225/65R16 100T BL","retailPrice":"128.99","bestInClass":"false","standardOptional":"S","frb":"B","tireBrandName":"Blizzak","tireBrandImage":"Blizzak_logo.png","tireImage":"BlizzakWS80.png"}},"5152":{"tire":{"article":"5152","brand":"Bridgestone","tireName":"Turanza EL400-02 T","tireGroupName":"Passenger Tires","tireClassName":"Car & Minivan All-Season","tireSegmentName":"Touring","tireSize":"P225/65R16","tireType":"Car & Minivan","loadIndex":"99","loadIndexPounds":"1709","speedRating":"T","speedRatingMPH":"118","sidewallDescription":"Black Letter/Black Wall","technology":"NONE","warrantyName":"None","description":"TURANZA EL400-02 T P225/65R16 99T BL","retailPrice":"122.99","bestInClass":"false","standardOptional":"S","frb":"B","tireBrandName":"Turanza","tireBrandImage":"Turanza_logo.png","tireImage":"TuranzaEL40002T.png"}},"147943":{"tire":{"article":"147943","brand":"Firestone","tireName":"Affinity Touring","tireGroupName":"Passenger Tires","tireClassName":"Car & Minivan All-Season","tireSegmentName":"Touring","tireSize":"225/65R16","tireType":"Car & Minivan","loadIndex":"100","loadIndexPounds":"1764","speedRating":"T","speedRatingMPH":"118","sidewallDescription":"Black Letter/Black Wall","mileage":"70000","technology":"NONE","warrantyName":"Gold Pledge Limited Warranty","description":"AFFINITY TOURING 225/65R16 100T BL","retailPrice":"129.99","bestInClass":"false","standardOptional":"S","frb":"B","tireBrandName":"Affinity","tireBrandImage":"Affinity_logo.png","tireImage":"AffinityTouring.png"},"storeInventory":{"storeNumber":"23817","articleNumber":"147943","quantityOnHand":"4","quantityOnOrder":"0"}},"5157":{"tire":{"article":"5157","brand":"Toyo","tireName":"Extensa A/S","tireGroupName":"Passenger Tires","tireClassName":"Car & Minivan All-Season","tireSegmentName":"Touring","tireSize":"225/65R16","tireType":"Car & Minivan","loadIndex":"100","loadIndexPounds":"1764","speedRating":"T","speedRatingMPH":"118","sidewallDescription":"Black Letter/Black Wall","mileage":"65000","technology":"NONE","warrantyName":"None","description":"TOYO EXTENSA A/S 225/65R16 100T BL","retailPrice":"89.99","bestInClass":"false","standardOptional":"S","frb":"B","tireBrandName":"Toyo","tireBrandImage":"fcac-logo-Toyo.png","tireImage":"ExtensaAS.png"}}},"allArticles":["5152","6393","147943","13414","3436","5157","148011","132337"],"filters":{"mileage":["2"],"price":["1","0"],"tireRating":["Best in Class"],"brand":["Bridgestone","Firestone","Primewell","Toyo"],"tireType":["CarMinivan","Winter","SUVCUV"],"size":["P225/65R16","225/65R16"]}}}';
		var json = JSON.parse(jsonString);  
		var value = stringify(json.payload.tires);
		for(var i=0;i<value.article.length;i++){
			document.write(value.article[i]+":"+value.details[i].tire.brand);
			document.write("<br>");
		}
		
		var filters = {};
		var filter = [];
		var brands = [];
		var tireType = [];
		var count=1;
		var value = json.payload.filters.brand;
		for(var i=0;i<value.length;i++){
		document.write(count);
			var eachItem = {"brand":value[i],"index":count};
			count++;
			brands.push(eachItem);
		}
var value = json.payload.filters.tireType;
		for(var i=0;i<value.length;i++){
			var eachItem = {"tireType":value[i],"index":count};
			count++;
			tireType.push(eachItem);
		}
		document.write(tireType[0].index);
		function stringify(value) {
				var properties ={};
				var tmp = [];
				var article =[];
				var details =[];
				var count = 0;
				for (var k in value) {
				  if (value.hasOwnProperty(k))
					article.push(k);
					details.push(value[k]);
					//tmp.push('details' + ': ' + stringify(value[k]));			
				}
				properties.article = article;
				properties.details = details;
				return properties;
			  
			//return '"' + value.toString().replace(escRE, escFunc) + '"';      
		}
		
		document.write("________________________________");
		var value = json.payload.filters.tireType;
		var map = new Object();
		var keycount = 1;
		document.write(value.length);
		for(var i=0; i<value.length; i++) {
			document.write("*");
			map[keycount]=value[i];
			keycount++;
		}
		
		/*document.write(stringify(map));
		for (var key in map) {
			document.write("&");
			if(map.hasOwnProperty(key)) {
				document.write(key + " -> " + map[key]);
			}
		}*/
		document.write("-----------------------------------");
		var jsonValue = JSON.parse(JSON.stringify(json.payload.filters));
		var filtersObj = new Object();
		var keyCount = 1;
		for (var key in jsonValue) {
			var filter = json.payload.filters[key];
			var filterSection = [];
			var ind = [];
			
			for(var i=0; i<filter.length; i++) {
				ind.push(keycount++)
				ind.push(filter[i])
				filterSection.push(ind);
				//filterSection[keycount++]=filter[i];
			}
			filtersObj[key] = filterSection;
			filterSection={};

			document.write("<br>");
			for (var key1 in filterSection) {
				document.write("&");
				if(filterSection.hasOwnProperty(key1)) {
					document.write(key1 + " -> " + filterSection[key1]);
				}
			}
			
		}
		document.write(JSON.stringify(filtersObj));
	</script>
 </BODY>
</HTML>
