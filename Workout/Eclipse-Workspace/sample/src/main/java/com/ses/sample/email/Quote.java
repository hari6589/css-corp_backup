package com.ses.sample.email;

import java.io.IOException;
import java.util.Collection;
import java.util.HashMap;
import java.util.Map;
import org.json.JSONException;
import tirequote.Store;
import tirequote.StoreHour;
import tirequote.TireQuote;
import alignmentquote.AlignmentPricingQuote;
import batteryquote.BatteryQuote;

import com.amazonaws.auth.AWSCredentials;
import com.amazonaws.auth.BasicAWSCredentials;
import com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient;
import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper;
import com.amazonaws.services.dynamodbv2.document.DynamoDB;
import com.amazonaws.services.dynamodbv2.document.Item;
import com.amazonaws.services.dynamodbv2.document.Table;
import com.amazonaws.services.dynamodbv2.document.spec.GetItemSpec;
import com.amazonaws.services.dynamodbv2.model.AttributeValue;
import com.fasterxml.jackson.core.JsonParseException;
import com.fasterxml.jackson.databind.JsonMappingException;
import com.fasterxml.jackson.databind.ObjectMapper;

public class Quote {
	
	public static AWSCredentials awsCredentials = null;
	public static DynamoDBMapper dynamoDBMapper = null;
	public static DynamoDB dynamoDB = null;
	
	Quote() {
		try {
			awsCredentials = new BasicAWSCredentials("AKIAIO6KVA4ID6VFURAA", "aaSNiXJVyTafsNBJfuLXp0+/KeiPbUUeel54XcKF");
			AmazonDynamoDBClient dyndbclient = new AmazonDynamoDBClient(awsCredentials);
		    dynamoDB = new DynamoDB(dyndbclient);
		} catch (Exception e) {
			System.out.println("Exception  in BSROScheduleAppointmentFunctionHandler Constructor!");
		}
	}
	
	public TireQuote getTireQuote(String quoteId) throws JSONException, JsonParseException, JsonMappingException, IOException {
		TireQuote tireQuote = null;
		/*
		Table table = dynamoDB.getTable("TireQuote");
		GetItemSpec spec = new GetItemSpec()
			.withPrimaryKey("quoteId", Long.parseLong(quoteId))
			.withConsistentRead(true);
		Item item = table.getItem(spec);
		
		if(item.hasAttribute("payload")) {
			ObjectMapper mapper = new ObjectMapper();
			tireQuote = mapper.readValue(jsonStr, TireQuote.class);
		}*/
		
		String jsonStr = "{\"storeInventory\":{\"storeNumber\":\"23817\",\"articleNumber\":\"97725\",\"quantityOnOrder\":\"0\",\"quantityOnHand\":\"4\",\"inventoryId\":10318146},\"storeNumber\":\"23817\",\"createdDate\":\"2015-12-30T11:23:16.000+05:30\",\"quantity\":\"4\",\"quoteItem\":{\"totalTirePrice\":\"535.96\",\"unitPrice\":\"133.99\",\"scrapTireRecyclingCharge\":\"12.0\",\"total\":\"560.76\",\"wheelBalance\":\"59.96\",\"tpmsValveServiceKitLabor\":\"8.0\",\"shopSupplies\":\"4.08\",\"tpmsValveServiceKit\":\"27.96\",\"stateEnvironmentalFee\":\"10.0\",\"tax\":\"36.8\",\"totalUnits\":\"4\"},\"vehicleFitment\":{\"year\":\"2010\",\"submodel\":\"WT\",\"acesVehicleId\":\"143886\",\"model\":\"Colorado\",\"tpmsInd\":\"true\",\"make\":\"Chevrolet\"},\"tireQuoteId\":\"1061397\",\"tire\":{\"description\":\"DESTINATION LE 2 P-METRIC P215/70R16 99H\",\"tireBrandImage\":\"Destination_logo.png\",\"loadIndexPounds\":\"1709\",\"warrantyName\":\"Gold Pledge Limited Warranty\",\"standardOptional\":\"S\",\"loadIndex\":\"99\",\"frb\":\"B\",\"speedRating\":\"H\",\"brand\":\"Firestone\",\"mileage\":\"60000\",\"tireName\":\"Destination LE2 \",\"tireBrandName\":\"Destination\",\"tireImage\":\"DestinationLE2.png\",\"discontinued\":\"N\",\"generateCatalogPage\":\"Y\",\"technology\":\"NONE\",\"article\":\"97725\",\"speedRatingMPH\":\"130\",\"notBrandedProduct\":\"false\",\"tireClassName\":\"CUV/SUV Highway All-Season\",\"tireType\":\"SUV/CUV\",\"tireGroupName\":\"Light Truck Tires\",\"tireSize\":\"P215/70R16\",\"retailPrice\":\"133.99\",\"sidewallDescription\":\"Black Letter/Black Wall\"}}";
		String jsonStrRear = "{\"lastName\":\"Jayakumar\",\"storeInventory\":{\"storeNumber\":\"11835\",\"articleNumber\":\"12360\",\"quantityOnOrder\":\"2\",\"quantityOnHand\":\"000\"},\"storeNumber\":\"11835\",\"quantity\":2,\"rearTire\":{\"tireSize\":\"255/40R18\",\"retailPrice\":\"302.0\",\"article\":\"12411\"},\"tirePromotion\":{},\"inventoryFront\":\"000\",\"rearQuantity\":\"2\",\"tireQuoteId\":\"1095928\",\"cart\":{\"brgtEnvironmentalFee\":{\"tooltip\":{\"name\":\"State Environmental Fee Tooltip Paragraph Component\",\"id\":\"Tooltip_service_8010ParagraphComponent\",\"tooltipContent\":\"<strong>State Tire Fee</strong><br/><br/>State tire fees are state-mandated charges applied when you purchase new tires.<br/>In many states, the funds raised by the collection of these environmental fees go towards research and development on new markets for recycling tires as an alternative to placing them in landfills. You may not know this, but materials reclaimed from old tires are used to power electrical plants, stop erosion in watersheds, assist in the drainage of golf courses and greenbelts, and can even be used in the construction of new homes, roads and playgrounds. These funds also pay to clean up abandoned, illegal scrap tire piles resulting from years past.\"},\"detailsLink\":{\"name\":\"State Environmental Fee DetailsLink Paragraph Component\",\"id\":\"DetailsLink_service_8010ParagraphComponent\"},\"environementalFeeArticleId\":\"7096822\",\"environmentalFee\":{\"currencyIso\":\"USD\",\"value\":10}},\"shopSuppliesValue\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$4.44\",\"value\":4.4376},\"appliedProductPromotions\":[],\"code\":\"00132785\",\"totalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$616.40\",\"value\":616.4},\"brgtQuote\":true,\"brgtTaxServiceFailure\":false,\"totalDiscounts\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0},\"subTotal\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$601.96\",\"value\":601.96},\"type\":\"cartWsDTO\",\"totalTax\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$45.26\",\"value\":45.26},\"brgtTireDescription\":\"Firestone Firehawk Indy 500\",\"appliedVouchers\":[],\"deliveryItemsQuantity\":29,\"brgtAvailableForInstallationByDate\":\"2017-04-06T01:57:59+0000\",\"totalPriceWithTax\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$661.66\",\"value\":661.66},\"net\":false,\"calculated\":true,\"totalItems\":9,\"productDiscounts\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0},\"appliedOrderPromotions\":[],\"potentialOrderPromotions\":[],\"potentialProductPromotions\":[],\"brgtTireImageURL\":\"http://bsro-qa.icrossing.com/content/dam/bsro/global/images/tires/full-60/FirehawkIndy500.png\",\"pickupOrderGroups\":[],\"brgtTireLogoURL\":\"http://bsro-qa.icrossing.com/content/dam/bsro/global/images/tires/brands/Firehawk_logo.png\",\"brgtQuoteURL\":\"http://bsro-qa.icrossing.com/tires/tire-quote/1095928\",\"orderDiscounts\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0},\"store\":\"fcac\",\"brgtStore\":{\"tuesdayClose\":\"7:00pm\",\"town\":\"Moore\",\"address1\":\"1800 S Broadway St\",\"mondayClose\":\"7:00pm\",\"postalCode\":\"73160-5361\",\"sundayClose\":\"5:00pm\",\"tuesdayOpen\":\"7:00am\",\"mondayOpen\":\"7:00am\",\"fridayClose\":\"7:00pm\",\"wednesdayOpen\":\"7:00am\",\"lwsStoreId\":\"11835\",\"saturdayOpen\":\"7:00am\",\"thursdayClose\":\"7:00pm\",\"fridayOpen\":\"7:00am\",\"sundayOpen\":\"9:00am\",\"phone\":\"(405) 703-5490\",\"name\":\"FIRESTONE STORE\",\"thursdayOpen\":\"7:00am\",\"wednesdayClose\":\"7:00pm\",\"saturdayClose\":\"7:00pm\",\"state\":\"OK\",\"tceStoreId\":\"4837\"},\"entries\":[{\"updateable\":true,\"product\":{\"availableForPickup\":false,\"purchasable\":true,\"code\":\"7015016\",\"tooltip\":{\"name\":\"Tire Mounting Tooltip Paragraph Component\",\"id\":\"Tooltip_7015016ParagraphComponent\"},\"detailsLink\":{\"name\":\"Tire Mounting DetailsLink Paragraph Component\",\"id\":\"DetailsLink_7015016ParagraphComponent\"},\"brgtTaxClassCode\":3,\"brgtTooltipContent\":\"Tooltip_7015016Content\",\"url\":\"/c/Tire-Mounting/p/7015016\",\"brgtPricePerTire\":true,\"brgtShopSupplyFlag\":true,\"brgtProductType\":\"SERVICE\",\"name\":\"Tire Mounting\",\"brgtArticleType\":\"LABOR\",\"categories\":[],\"brgtDetailsLinkContent\":\"DetailsLink_7015016Content\",\"stock\":{\"stockLevelStatus\":\"inStock\",\"stockLevel\":0},\"baseOptions\":[]},\"quantity\":4,\"totalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0},\"entryNumber\":0,\"basePrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0},\"beforePromotionTotalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0}},{\"updateable\":true,\"product\":{\"availableForPickup\":false,\"purchasable\":true,\"code\":\"7074810\",\"tooltip\":{\"name\":\"Tire/Wheel Alignment Check Tooltip Paragraph Component\",\"id\":\"Tooltip_7074810ParagraphComponent\",\"tooltipContent\":\"<strong>Alignment Check</strong><br/><br/>Free Alignment Check Includes:<br/><ul><li>Inspection of steering and suspension system including tire condition and air pressure</li><li>Putting vehicle on alignment rack, mount and compensate sensors</li><li>Printout alignment readings</li></ul><p>If your vehicle¿s alignment ends up needing adjustment, you can receive special internet pricing with an alignment service quote. There are two options to choose from:</p><ul><li>Standard Alignment Service: $79.99*</li><li>Lifetime Alignment Service: $169.99*</li></ul><br/><small>*most vehicles</small>\"},\"detailsLink\":{\"name\":\"Tire/Wheel Alignment Check DetailsLink Paragraph Component\",\"id\":\"DetailsLink_7074810ParagraphComponent\"},\"brgtTaxClassCode\":3,\"brgtTooltipContent\":\"Tooltip_7074810Content\",\"url\":\"/c/Tire-Wheel-Alignment-Check/p/7074810\",\"brgtPricePerTire\":false,\"brgtShopSupplyFlag\":true,\"brgtProductType\":\"SERVICE\",\"name\":\"Tire/Wheel Alignment Check\",\"brgtArticleType\":\"LABOR\",\"categories\":[],\"brgtDetailsLinkContent\":\"DetailsLink_7074810Content\",\"stock\":{\"stockLevelStatus\":\"inStock\",\"stockLevel\":0},\"baseOptions\":[]},\"quantity\":1,\"totalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0},\"entryNumber\":1,\"basePrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0},\"beforePromotionTotalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0}},{\"updateable\":true,\"product\":{\"availableForPickup\":false,\"purchasable\":true,\"code\":\"7001119\",\"tooltip\":{\"name\":\"Lifetime Free Tire Rotation Tooltip Paragraph Component\",\"id\":\"Tooltip_7001119ParagraphComponent\",\"tooltipContent\":\"<p><strong>Lifetime Free Tire Rotation</strong></p><div>Lifetime tire rotation means Firestone will rotate your tires whenever you need it, for free, for as long as you own the car.</div><div>&nbsp;</div><div><span style=\\\"font-size: smaller;\\\">*Consult with your local store manager for complete conditions and terms of the lifetime limited warranty.</span></div>\"},\"detailsLink\":{\"name\":\"Lifetime Free Tire Rotation Details Link Paragraph Component\",\"id\":\"DetailsLink_7001119ParagraphComponent\",\"detailsLinkContent\":\"<p>&nbsp;(<a href=\\\"http://www.firestonecompleteautocare.com/content/bsro/fcac/en/tires/warranty-options.html\\\" target=\\\"_blank\\\">Details</a>)</p>\"},\"brgtTaxClassCode\":3,\"brgtTooltipContent\":\"Tooltip_7001119Content\",\"url\":\"/c/Lifetime-Free-Tire-Rotation/p/7001119\",\"brgtPricePerTire\":true,\"brgtShopSupplyFlag\":true,\"brgtProductType\":\"SERVICE\",\"name\":\"Lifetime Free Tire Rotation\",\"brgtArticleType\":\"LABOR\",\"categories\":[],\"brgtDetailsLinkContent\":\"DetailsLink_7001119Content\",\"stock\":{\"stockLevelStatus\":\"inStock\",\"stockLevel\":0},\"baseOptions\":[]},\"quantity\":4,\"totalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0},\"entryNumber\":2,\"basePrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0},\"beforePromotionTotalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0}},{\"updateable\":true,\"product\":{\"availableForPickup\":false,\"purchasable\":true,\"code\":\"7013632\",\"tooltip\":{\"name\":\"Computerized Wheel Balance Labor Tooltip Paragraph Component\",\"id\":\"Tooltip_7013632ParagraphComponent\"},\"detailsLink\":{\"name\":\"Computerized Wheel Balance Labor DetailsLink Paragraph Component\",\"id\":\"DetailsLink_7013632ParagraphComponent\"},\"brgtTaxClassCode\":3,\"brgtTooltipContent\":\"Tooltip_7013632Content\",\"url\":\"/c/Computerized-Wheel-Balance/p/7013632\",\"brgtPricePerTire\":true,\"brgtShopSupplyFlag\":true,\"brgtProductType\":\"SERVICE\",\"name\":\"Computerized Wheel Balance\",\"brgtArticleType\":\"LABOR\",\"categories\":[],\"brgtDetailsLinkContent\":\"DetailsLink_7013632Content\",\"stock\":{\"stockLevelStatus\":\"inStock\",\"stockLevel\":0},\"baseOptions\":[]},\"quantity\":4,\"totalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$62.00\",\"value\":62},\"entryNumber\":3,\"basePrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$15.50\",\"value\":15.5},\"beforePromotionTotalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$62.00\",\"value\":62}},{\"updateable\":true,\"product\":{\"availableForPickup\":false,\"purchasable\":true,\"code\":\"7006731\",\"tooltip\":{\"name\":\"TPMS Valve Service Kit Tooltip Paragraph Component\",\"id\":\"Tooltip_7006731ParagraphComponent\",\"tooltipContent\":\"<strong>TPMS Valve Service Kit</strong><br/><br/>Many vehicle manufacturers over the past several years have equipped many models with Tire Pressure Monitoring Systems (<abbr title='Tire Pressure Monitoring Systems'>TPMS</abbr>). This equipment is designed to alert drivers to potential tire inflation issues. When a tire is replaced on these vehicles, a new TPMS valve service kit may be required, per the manufacturer.\"},\"detailsLink\":{\"name\":\"TPMS Valve Service Kit DetailsLink Paragraph Component\",\"id\":\"DetailsLink_7006731ParagraphComponent\"},\"brgtTaxClassCode\":1,\"brgtTooltipContent\":\"Tooltip_7006731Content\",\"url\":\"/c/TPMS-Valve-Service-Kit/p/7006731\",\"brgtPricePerTire\":true,\"brgtShopSupplyFlag\":true,\"brgtProductType\":\"SERVICE_TPMS\",\"name\":\"TPMS Valve Service Kit\",\"brgtArticleType\":\"PART\",\"categories\":[],\"brgtDetailsLinkContent\":\"DetailsLink_7006731Content\",\"stock\":{\"stockLevelStatus\":\"inStock\",\"stockLevel\":0},\"baseOptions\":[]},\"quantity\":4,\"totalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$28.00\",\"value\":28},\"entryNumber\":4,\"basePrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$7.00\",\"value\":7},\"beforePromotionTotalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$28.00\",\"value\":28}},{\"updateable\":true,\"product\":{\"availableForPickup\":false,\"purchasable\":true,\"code\":\"7008190\",\"tooltip\":{\"name\":\"TPMS Valve Service Kit Labor Tooltip Paragraph Component\",\"id\":\"Tooltip_7008190ParagraphComponent\",\"tooltipContent\":\"<strong>TPMS Valve Service Kit Labor</strong><br/><br/>When our store installs a new Tire Pressure Monitoring System (<abbr title='Tire Pressure Monitoring Systems'>TPMS</abbr>) Valve Service Kit, they are installing a new ferrule nut, valve cap and a nickel-plated valve core. The installation and torque adjustment of these parts requires additional time, and is necessary to set the equipment to manufacturers¿ specifications.\"},\"detailsLink\":{\"name\":\"TPMS Valve Service Kit Labor DetailsLink Paragraph Component\",\"id\":\"DetailsLink_7008190ParagraphComponent\"},\"brgtTaxClassCode\":3,\"brgtTooltipContent\":\"Tooltip_7008190Content\",\"url\":\"/c/TPMS-Valve-Service-Kit-Labor/p/7008190\",\"brgtPricePerTire\":true,\"brgtShopSupplyFlag\":true,\"brgtProductType\":\"SERVICE_TPMS\",\"name\":\"TPMS Valve Service Kit Labor\",\"brgtArticleType\":\"LABOR\",\"categories\":[],\"brgtDetailsLinkContent\":\"DetailsLink_7008190Content\",\"stock\":{\"stockLevelStatus\":\"inStock\",\"stockLevel\":0},\"baseOptions\":[]},\"quantity\":4,\"totalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$11.96\",\"value\":11.96},\"entryNumber\":5,\"basePrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$2.99\",\"value\":2.99},\"beforePromotionTotalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$11.96\",\"value\":11.96}},{\"updateable\":true,\"product\":{\"availableForPickup\":false,\"purchasable\":true,\"code\":\"7075078\",\"tooltip\":{\"name\":\"Scrap Tire Recycling Charge Tooltip Paragraph Component\",\"id\":\"Tooltip_7075078ParagraphComponent\",\"tooltipContent\":\"<strong>Scrap Tire Recycling Charge</strong><br/><br/>You¿ll only be charged if you leave your old tires behind.<br/>Disposing of tires is heavily regulated, ensuring the old ones don¿t wind up in the city dump or tossed out on the side of the road. We retain licensed transportation services to ensure your scrap tires are recycled or disposed properly. Almost 80% of scrap tires nationwide are delivered into an end use market like tire derived fuel, crumb rubber or construction materials. That¿s a higher recycling rate than paper, steel, glass, aluminum, plastic or most any other bulk material.\"},\"detailsLink\":{\"name\":\"Scrap Tire Recycling Charge DetailsLink Paragraph Component\",\"id\":\"DetailsLink_7075078ParagraphComponent\"},\"brgtTaxClassCode\":4,\"brgtTooltipContent\":\"Tooltip_7075078Content\",\"url\":\"/c/Scrap-Tire-Recycling-Charge/p/7075078\",\"brgtPricePerTire\":true,\"brgtShopSupplyFlag\":false,\"brgtProductType\":\"SERVICE\",\"name\":\"Scrap Tire Recycling Charge\",\"brgtArticleType\":\"LABOR\",\"categories\":[],\"brgtDetailsLinkContent\":\"DetailsLink_7075078Content\",\"stock\":{\"stockLevelStatus\":\"inStock\",\"stockLevel\":0},\"baseOptions\":[]},\"quantity\":4,\"totalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0},\"entryNumber\":6,\"basePrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0},\"beforePromotionTotalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0}},{\"updateable\":true,\"product\":{\"availableForPickup\":false,\"purchasable\":true,\"code\":\"12360\",\"brgtWebSourceFlagFCAC\":true,\"brgtTirePicture\":\"http://www.bridgestonetire.com/content/dam/bridgestone/consumer/fst/tire-images/firehawk-indy-500/FST_Firehawk_Indy_500.jpg\",\"brgtWebSourceFlagHP\":true,\"brgtTireSizeLabel\":\"225/40R18\",\"brgtPricePerTire\":true,\"brgtClass\":\"Ultra High Performance Summer\",\"brgtShopSupplyFlag\":false,\"brgtSegment\":\"Performance Tires\",\"categories\":[{\"code\":\"TIWO\",\"url\":\"/JDA-FIREHAWK-INDY-500/c/TIWO\"},{\"code\":\"HANA_Pattern_G169\",\"url\":\"/COMPETITIVE/G169-RSA/G169/c/HANA_Pattern_G169\"}],\"stock\":{\"stockLevelStatus\":\"inStock\",\"stockLevel\":0},\"brgtWebSourceFlagWW\":true,\"brgtCategory\":\"Passenger Tires\",\"brgtLineId\":\"TIWO\",\"brgtSidewallStyling\":\"BLACKWALL\",\"brgtBrand\":\"FIRESTONE\",\"brgtTaxClassCode\":2,\"brgtTooltipContent\":\"Tooltip_12360Content\",\"url\":\"/JDA-FIREHAWK-INDY-500/FRHWK-INDY-500-225-40R18-TLBLPS92WXL/p/12360\",\"brgtSubBrand\":\"FIREHAWK\",\"brgtProductType\":\"TIRE\",\"name\":\"FRHWK INDY 500 225/40R18 TLBLPS92WXL\",\"brgtWebSourceFlagTP\":true,\"brgtArticleType\":\"TIRE\",\"brgtDetailsLinkContent\":\"DetailsLink_12360Content\",\"baseOptions\":[]},\"quantity\":2,\"totalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$198.00\",\"value\":198},\"entryNumber\":7,\"basePrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$99.00\",\"value\":99},\"beforePromotionTotalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$198.00\",\"value\":198}},{\"updateable\":true,\"product\":{\"availableForPickup\":false,\"purchasable\":true,\"code\":\"12411\",\"brgtWebSourceFlagFCAC\":true,\"brgtTirePicture\":\"http://www.bridgestonetire.com/content/dam/bridgestone/consumer/fst/tire-images/firehawk-indy-500/FST_Firehawk_Indy_500.jpg\",\"brgtWebSourceFlagHP\":true,\"brgtTireSizeLabel\":\"255/40R18\",\"brgtPricePerTire\":true,\"brgtClass\":\"Ultra High Performance Summer\",\"brgtShopSupplyFlag\":false,\"brgtSegment\":\"Performance Tires\",\"categories\":[{\"code\":\"TIWO\",\"url\":\"/JDA-FIREHAWK-INDY-500/c/TIWO\"}],\"stock\":{\"stockLevelStatus\":\"inStock\",\"stockLevel\":0},\"brgtWebSourceFlagWW\":true,\"brgtCategory\":\"Passenger Tires\",\"brgtLineId\":\"TIWO\",\"brgtSidewallStyling\":\"BLACKWALL\",\"brgtBrand\":\"FIRESTONE\",\"brgtTaxClassCode\":2,\"brgtTooltipContent\":\"Tooltip_12411Content\",\"url\":\"/JDA-FIREHAWK-INDY-500/FRHWK-INDY-500-255-40R18-TLBLPS99WXL/p/12411\",\"brgtSubBrand\":\"FIREHAWK\",\"brgtProductType\":\"TIRE\",\"name\":\"FRHWK INDY 500 255/40R18 TLBLPS99WXL\",\"brgtWebSourceFlagTP\":true,\"brgtArticleType\":\"TIRE\",\"brgtDetailsLinkContent\":\"DetailsLink_12411Content\",\"baseOptions\":[]},\"quantity\":2,\"totalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$302.00\",\"value\":302},\"entryNumber\":8,\"basePrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$151.00\",\"value\":151},\"beforePromotionTotalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$302.00\",\"value\":302}}],\"site\":\"fcac\",\"totalUnitCount\":29,\"guid\":\"a83c84e7-373b-4c6e-bc3b-f506f86f973e\",\"pickupItemsQuantity\":0,\"deliveryOrderGroups\":[{\"entries\":[{\"updateable\":true,\"product\":{\"availableForPickup\":false,\"purchasable\":true,\"code\":\"7015016\",\"tooltip\":{\"name\":\"Tire Mounting Tooltip Paragraph Component\",\"id\":\"Tooltip_7015016ParagraphComponent\"},\"detailsLink\":{\"name\":\"Tire Mounting DetailsLink Paragraph Component\",\"id\":\"DetailsLink_7015016ParagraphComponent\"},\"brgtTaxClassCode\":3,\"brgtTooltipContent\":\"Tooltip_7015016Content\",\"url\":\"/c/Tire-Mounting/p/7015016\",\"brgtPricePerTire\":true,\"brgtShopSupplyFlag\":true,\"brgtProductType\":\"SERVICE\",\"name\":\"Tire Mounting\",\"brgtArticleType\":\"LABOR\",\"categories\":[],\"brgtDetailsLinkContent\":\"DetailsLink_7015016Content\",\"stock\":{\"stockLevelStatus\":\"inStock\",\"stockLevel\":0},\"baseOptions\":[]},\"quantity\":4,\"totalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0},\"entryNumber\":0,\"basePrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0},\"beforePromotionTotalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0}},{\"updateable\":true,\"product\":{\"availableForPickup\":false,\"purchasable\":true,\"code\":\"7074810\",\"tooltip\":{\"name\":\"Tire/Wheel Alignment Check Tooltip Paragraph Component\",\"id\":\"Tooltip_7074810ParagraphComponent\",\"tooltipContent\":\"<strong>Alignment Check</strong><br/><br/>Free Alignment Check Includes:<br/><ul><li>Inspection of steering and suspension system including tire condition and air pressure</li><li>Putting vehicle on alignment rack, mount and compensate sensors</li><li>Printout alignment readings</li></ul><p>If your vehicle¿s alignment ends up needing adjustment, you can receive special internet pricing with an alignment service quote. There are two options to choose from:</p><ul><li>Standard Alignment Service: $79.99*</li><li>Lifetime Alignment Service: $169.99*</li></ul><br/><small>*most vehicles</small>\"},\"detailsLink\":{\"name\":\"Tire/Wheel Alignment Check DetailsLink Paragraph Component\",\"id\":\"DetailsLink_7074810ParagraphComponent\"},\"brgtTaxClassCode\":3,\"brgtTooltipContent\":\"Tooltip_7074810Content\",\"url\":\"/c/Tire-Wheel-Alignment-Check/p/7074810\",\"brgtPricePerTire\":false,\"brgtShopSupplyFlag\":true,\"brgtProductType\":\"SERVICE\",\"name\":\"Tire/Wheel Alignment Check\",\"brgtArticleType\":\"LABOR\",\"categories\":[],\"brgtDetailsLinkContent\":\"DetailsLink_7074810Content\",\"stock\":{\"stockLevelStatus\":\"inStock\",\"stockLevel\":0},\"baseOptions\":[]},\"quantity\":1,\"totalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0},\"entryNumber\":1,\"basePrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0},\"beforePromotionTotalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0}},{\"updateable\":true,\"product\":{\"availableForPickup\":false,\"purchasable\":true,\"code\":\"7001119\",\"tooltip\":{\"name\":\"Lifetime Free Tire Rotation Tooltip Paragraph Component\",\"id\":\"Tooltip_7001119ParagraphComponent\",\"tooltipContent\":\"<p><strong>Lifetime Free Tire Rotation</strong></p><div>Lifetime tire rotation means Firestone will rotate your tires whenever you need it, for free, for as long as you own the car.</div><div>&nbsp;</div><div><span style=\\\"font-size: smaller;\\\">*Consult with your local store manager for complete conditions and terms of the lifetime limited warranty.</span></div>\"},\"detailsLink\":{\"name\":\"Lifetime Free Tire Rotation Details Link Paragraph Component\",\"id\":\"DetailsLink_7001119ParagraphComponent\",\"detailsLinkContent\":\"<p>&nbsp;(<a href=\\\"http://www.firestonecompleteautocare.com/content/bsro/fcac/en/tires/warranty-options.html\\\" target=\\\"_blank\\\">Details</a>)</p>\"},\"brgtTaxClassCode\":3,\"brgtTooltipContent\":\"Tooltip_7001119Content\",\"url\":\"/c/Lifetime-Free-Tire-Rotation/p/7001119\",\"brgtPricePerTire\":true,\"brgtShopSupplyFlag\":true,\"brgtProductType\":\"SERVICE\",\"name\":\"Lifetime Free Tire Rotation\",\"brgtArticleType\":\"LABOR\",\"categories\":[],\"brgtDetailsLinkContent\":\"DetailsLink_7001119Content\",\"stock\":{\"stockLevelStatus\":\"inStock\",\"stockLevel\":0},\"baseOptions\":[]},\"quantity\":4,\"totalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0},\"entryNumber\":2,\"basePrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0},\"beforePromotionTotalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0}},{\"updateable\":true,\"product\":{\"availableForPickup\":false,\"purchasable\":true,\"code\":\"7013632\",\"tooltip\":{\"name\":\"Computerized Wheel Balance Labor Tooltip Paragraph Component\",\"id\":\"Tooltip_7013632ParagraphComponent\"},\"detailsLink\":{\"name\":\"Computerized Wheel Balance Labor DetailsLink Paragraph Component\",\"id\":\"DetailsLink_7013632ParagraphComponent\"},\"brgtTaxClassCode\":3,\"brgtTooltipContent\":\"Tooltip_7013632Content\",\"url\":\"/c/Computerized-Wheel-Balance/p/7013632\",\"brgtPricePerTire\":true,\"brgtShopSupplyFlag\":true,\"brgtProductType\":\"SERVICE\",\"name\":\"Computerized Wheel Balance\",\"brgtArticleType\":\"LABOR\",\"categories\":[],\"brgtDetailsLinkContent\":\"DetailsLink_7013632Content\",\"stock\":{\"stockLevelStatus\":\"inStock\",\"stockLevel\":0},\"baseOptions\":[]},\"quantity\":4,\"totalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$62.00\",\"value\":62},\"entryNumber\":3,\"basePrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$15.50\",\"value\":15.5},\"beforePromotionTotalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$62.00\",\"value\":62}},{\"updateable\":true,\"product\":{\"availableForPickup\":false,\"purchasable\":true,\"code\":\"7006731\",\"tooltip\":{\"name\":\"TPMS Valve Service Kit Tooltip Paragraph Component\",\"id\":\"Tooltip_7006731ParagraphComponent\",\"tooltipContent\":\"<strong>TPMS Valve Service Kit</strong><br/><br/>Many vehicle manufacturers over the past several years have equipped many models with Tire Pressure Monitoring Systems (<abbr title='Tire Pressure Monitoring Systems'>TPMS</abbr>). This equipment is designed to alert drivers to potential tire inflation issues. When a tire is replaced on these vehicles, a new TPMS valve service kit may be required, per the manufacturer.\"},\"detailsLink\":{\"name\":\"TPMS Valve Service Kit DetailsLink Paragraph Component\",\"id\":\"DetailsLink_7006731ParagraphComponent\"},\"brgtTaxClassCode\":1,\"brgtTooltipContent\":\"Tooltip_7006731Content\",\"url\":\"/c/TPMS-Valve-Service-Kit/p/7006731\",\"brgtPricePerTire\":true,\"brgtShopSupplyFlag\":true,\"brgtProductType\":\"SERVICE_TPMS\",\"name\":\"TPMS Valve Service Kit\",\"brgtArticleType\":\"PART\",\"categories\":[],\"brgtDetailsLinkContent\":\"DetailsLink_7006731Content\",\"stock\":{\"stockLevelStatus\":\"inStock\",\"stockLevel\":0},\"baseOptions\":[]},\"quantity\":4,\"totalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$28.00\",\"value\":28},\"entryNumber\":4,\"basePrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$7.00\",\"value\":7},\"beforePromotionTotalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$28.00\",\"value\":28}},{\"updateable\":true,\"product\":{\"availableForPickup\":false,\"purchasable\":true,\"code\":\"7008190\",\"tooltip\":{\"name\":\"TPMS Valve Service Kit Labor Tooltip Paragraph Component\",\"id\":\"Tooltip_7008190ParagraphComponent\",\"tooltipContent\":\"<strong>TPMS Valve Service Kit Labor</strong><br/><br/>When our store installs a new Tire Pressure Monitoring System (<abbr title='Tire Pressure Monitoring Systems'>TPMS</abbr>) Valve Service Kit, they are installing a new ferrule nut, valve cap and a nickel-plated valve core. The installation and torque adjustment of these parts requires additional time, and is necessary to set the equipment to manufacturers¿ specifications.\"},\"detailsLink\":{\"name\":\"TPMS Valve Service Kit Labor DetailsLink Paragraph Component\",\"id\":\"DetailsLink_7008190ParagraphComponent\"},\"brgtTaxClassCode\":3,\"brgtTooltipContent\":\"Tooltip_7008190Content\",\"url\":\"/c/TPMS-Valve-Service-Kit-Labor/p/7008190\",\"brgtPricePerTire\":true,\"brgtShopSupplyFlag\":true,\"brgtProductType\":\"SERVICE_TPMS\",\"name\":\"TPMS Valve Service Kit Labor\",\"brgtArticleType\":\"LABOR\",\"categories\":[],\"brgtDetailsLinkContent\":\"DetailsLink_7008190Content\",\"stock\":{\"stockLevelStatus\":\"inStock\",\"stockLevel\":0},\"baseOptions\":[]},\"quantity\":4,\"totalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$11.96\",\"value\":11.96},\"entryNumber\":5,\"basePrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$2.99\",\"value\":2.99},\"beforePromotionTotalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$11.96\",\"value\":11.96}},{\"updateable\":true,\"product\":{\"availableForPickup\":false,\"purchasable\":true,\"code\":\"7075078\",\"tooltip\":{\"name\":\"Scrap Tire Recycling Charge Tooltip Paragraph Component\",\"id\":\"Tooltip_7075078ParagraphComponent\",\"tooltipContent\":\"<strong>Scrap Tire Recycling Charge</strong><br/><br/>You¿ll only be charged if you leave your old tires behind.<br/>Disposing of tires is heavily regulated, ensuring the old ones don¿t wind up in the city dump or tossed out on the side of the road. We retain licensed transportation services to ensure your scrap tires are recycled or disposed properly. Almost 80% of scrap tires nationwide are delivered into an end use market like tire derived fuel, crumb rubber or construction materials. That¿s a higher recycling rate than paper, steel, glass, aluminum, plastic or most any other bulk material.\"},\"detailsLink\":{\"name\":\"Scrap Tire Recycling Charge DetailsLink Paragraph Component\",\"id\":\"DetailsLink_7075078ParagraphComponent\"},\"brgtTaxClassCode\":4,\"brgtTooltipContent\":\"Tooltip_7075078Content\",\"url\":\"/c/Scrap-Tire-Recycling-Charge/p/7075078\",\"brgtPricePerTire\":true,\"brgtShopSupplyFlag\":false,\"brgtProductType\":\"SERVICE\",\"name\":\"Scrap Tire Recycling Charge\",\"brgtArticleType\":\"LABOR\",\"categories\":[],\"brgtDetailsLinkContent\":\"DetailsLink_7075078Content\",\"stock\":{\"stockLevelStatus\":\"inStock\",\"stockLevel\":0},\"baseOptions\":[]},\"quantity\":4,\"totalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0},\"entryNumber\":6,\"basePrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0},\"beforePromotionTotalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$0.00\",\"value\":0}},{\"updateable\":true,\"product\":{\"availableForPickup\":false,\"purchasable\":true,\"code\":\"12360\",\"brgtWebSourceFlagFCAC\":true,\"brgtTirePicture\":\"http://www.bridgestonetire.com/content/dam/bridgestone/consumer/fst/tire-images/firehawk-indy-500/FST_Firehawk_Indy_500.jpg\",\"brgtWebSourceFlagHP\":true,\"brgtTireSizeLabel\":\"225/40R18\",\"brgtPricePerTire\":true,\"brgtClass\":\"Ultra High Performance Summer\",\"brgtShopSupplyFlag\":false,\"brgtSegment\":\"Performance Tires\",\"categories\":[{\"code\":\"TIWO\",\"url\":\"/JDA-FIREHAWK-INDY-500/c/TIWO\"},{\"code\":\"HANA_Pattern_G169\",\"url\":\"/COMPETITIVE/G169-RSA/G169/c/HANA_Pattern_G169\"}],\"stock\":{\"stockLevelStatus\":\"inStock\",\"stockLevel\":0},\"brgtWebSourceFlagWW\":true,\"brgtCategory\":\"Passenger Tires\",\"brgtLineId\":\"TIWO\",\"brgtSidewallStyling\":\"BLACKWALL\",\"brgtBrand\":\"FIRESTONE\",\"brgtTaxClassCode\":2,\"brgtTooltipContent\":\"Tooltip_12360Content\",\"url\":\"/JDA-FIREHAWK-INDY-500/FRHWK-INDY-500-225-40R18-TLBLPS92WXL/p/12360\",\"brgtSubBrand\":\"FIREHAWK\",\"brgtProductType\":\"TIRE\",\"name\":\"FRHWK INDY 500 225/40R18 TLBLPS92WXL\",\"brgtWebSourceFlagTP\":true,\"brgtArticleType\":\"TIRE\",\"brgtDetailsLinkContent\":\"DetailsLink_12360Content\",\"baseOptions\":[]},\"quantity\":2,\"totalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$198.00\",\"value\":198},\"entryNumber\":7,\"basePrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$99.00\",\"value\":99},\"beforePromotionTotalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$198.00\",\"value\":198}},{\"updateable\":true,\"product\":{\"availableForPickup\":false,\"purchasable\":true,\"code\":\"12411\",\"brgtWebSourceFlagFCAC\":true,\"brgtTirePicture\":\"http://www.bridgestonetire.com/content/dam/bridgestone/consumer/fst/tire-images/firehawk-indy-500/FST_Firehawk_Indy_500.jpg\",\"brgtWebSourceFlagHP\":true,\"brgtTireSizeLabel\":\"255/40R18\",\"brgtPricePerTire\":true,\"brgtClass\":\"Ultra High Performance Summer\",\"brgtShopSupplyFlag\":false,\"brgtSegment\":\"Performance Tires\",\"categories\":[{\"code\":\"TIWO\",\"url\":\"/JDA-FIREHAWK-INDY-500/c/TIWO\"}],\"stock\":{\"stockLevelStatus\":\"inStock\",\"stockLevel\":0},\"brgtWebSourceFlagWW\":true,\"brgtCategory\":\"Passenger Tires\",\"brgtLineId\":\"TIWO\",\"brgtSidewallStyling\":\"BLACKWALL\",\"brgtBrand\":\"FIRESTONE\",\"brgtTaxClassCode\":2,\"brgtTooltipContent\":\"Tooltip_12411Content\",\"url\":\"/JDA-FIREHAWK-INDY-500/FRHWK-INDY-500-255-40R18-TLBLPS99WXL/p/12411\",\"brgtSubBrand\":\"FIREHAWK\",\"brgtProductType\":\"TIRE\",\"name\":\"FRHWK INDY 500 255/40R18 TLBLPS99WXL\",\"brgtWebSourceFlagTP\":true,\"brgtArticleType\":\"TIRE\",\"brgtDetailsLinkContent\":\"DetailsLink_12411Content\",\"baseOptions\":[]},\"quantity\":2,\"totalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$302.00\",\"value\":302},\"entryNumber\":8,\"basePrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$151.00\",\"value\":151},\"beforePromotionTotalPrice\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$302.00\",\"value\":302}}],\"totalPriceWithTax\":{\"currencyIso\":\"USD\",\"priceType\":\"BUY\",\"formattedValue\":\"$601.96\",\"value\":601.96}}]},\"firstName\":\"Aravind\",\"emailAddress\":\"hari6589@gmail.com\",\"inventoryRear\":\"0\",\"createdDate\":\"2017-04-03T01:58:04.337-05:00\",\"cartGuid\":\"a83c84e7-373b-4c6e-bc3b-f506f86f973e\",\"quoteItem\":{\"totalTirePrice\":\"198\",\"unitPrice\":\"99.0\",\"scrapTireRecyclingCharge\":\"0.0\",\"rearUnitPrice\":\"151.0\",\"tpmsValveServiceKitLabor\":\"11.96\",\"tpmsValveServiceKit\":\"28.0\",\"valveStem\":\"0.0\",\"tax\":\"45.26\",\"totalUnits\":\"2\",\"total\":\"661.66\",\"wheelBalance\":\"62.0\",\"shopSupplies\":\"4.4376\",\"stateEnvironmentalFee\":\"10.0\",\"rearTotalTirePrice\":\"302\",\"rearTotalUnits\":\"2\"},\"vehicleFitment\":{\"year\":\"2013\",\"submodel\":\"Base\",\"acesVehicleId\":\"200250\",\"model\":\"328i\",\"tpmsInd\":\"true\",\"make\":\"BMW\"},\"tire\":{\"description\":\"Firehawk Indy 500 225/40R18 92W BL\",\"tireBrandImage\":\"http://bsro-qa.icrossing.com/content/dam/bsro/global/images/tires/brands/Firehawk_logo.png\",\"loadIndexPounds\":\"1389\",\"warrantyName\":\"Gold Pledge Limited Warranty\",\"standardOptional\":\"O\",\"loadIndex\":\"92\",\"frb\":\"B\",\"speedRating\":\"W\",\"brand\":\"Firestone\",\"mileage\":\"2000\",\"tireName\":\"Firehawk Indy 500\",\"loadRange\":\"XL\",\"tireBrandName\":\"Firestone\",\"tireImage\":\"http://bsro-qa.icrossing.com/content/dam/bsro/global/images/tires/full-60/FirehawkIndy500.png\",\"discontinued\":\"N\",\"generateCatalogPage\":\"Y\",\"technology\":\"NONE\",\"oemFlag\":\"N\",\"article\":\"12360\",\"speedRatingMPH\":\"168\",\"notBrandedProduct\":\"false\",\"tireClassName\":\"Ultra High Performance Summer\",\"tireType\":\"Summer\",\"tireGroupName\":\"Performance\",\"tireSize\":\"225/40R18 XL\",\"retailPrice\":\"198.0\",\"sidewallDescription\":\"Black Letter/Black Wall\"}}";
		String jsonStrPromo = "{\"storeInventory\":{\"storeNumber\":\"23817\",\"articleNumber\":\"97725\",\"quantityOnOrder\":\"0\",\"quantityOnHand\":\"4\",\"inventoryId\":10318146},\"storeNumber\":\"23817\",\"createdDate\":\"2015-12-30T11:23:16.000+05:30\",\"quantity\":\"4\",\"quoteItem\":{\"totalTirePrice\":\"535.96\",\"unitPrice\":\"133.99\",\"scrapTireRecyclingCharge\":\"12.0\",\"total\":\"560.76\",\"wheelBalance\":\"59.96\",\"tpmsValveServiceKitLabor\":\"8.0\",\"shopSupplies\":\"4.08\",\"tpmsValveServiceKit\":\"27.96\",\"stateEnvironmentalFee\":\"10.0\",\"tax\":\"36.8\",\"totalUnits\":\"4\"},\"tirePromotion\": {\"offers\": [{\"promoName\": \"fcac-3442-valera-touring-ii\",\"promoSmallImgText\": \"Valera Touring II(3442)--Qty2--20--dollars off--\",\"promoType\": \"D\",\"minQualifierQty\": \"4\",\"promoDisplayName\": \"Valera Touring II(3442)--Qty2--20--dollars off--\",\"promoValue\": \"39.99999999999997\",\"promoId\": \"fcac-3442-valera-touring-ii\",\"promoTypeDescription\": \"fixed_discount\",\"statusFlag\": \"P\"}],\"frontDiscountAmount\": \"9.999999999999993\",\"frontDiscountAmountTotal\": \"39.99999999999997\",\"discountAmount\": \"39.99999999999997\"},\"vehicleFitment\":{\"year\":\"2010\",\"submodel\":\"WT\",\"acesVehicleId\":\"143886\",\"model\":\"Colorado\",\"tpmsInd\":\"true\",\"make\":\"Chevrolet\"},\"tireQuoteId\":\"1061397\",\"tire\":{\"description\":\"DESTINATION LE 2 P-METRIC P215/70R16 99H\",\"tireBrandImage\":\"Destination_logo.png\",\"loadIndexPounds\":\"1709\",\"warrantyName\":\"Gold Pledge Limited Warranty\",\"standardOptional\":\"S\",\"loadIndex\":\"99\",\"frb\":\"B\",\"speedRating\":\"H\",\"brand\":\"Firestone\",\"mileage\":\"60000\",\"tireName\":\"Destination LE2 \",\"tireBrandName\":\"Destination\",\"tireImage\":\"DestinationLE2.png\",\"discontinued\":\"N\",\"generateCatalogPage\":\"Y\",\"technology\":\"NONE\",\"article\":\"97725\",\"speedRatingMPH\":\"130\",\"notBrandedProduct\":\"false\",\"tireClassName\":\"CUV/SUV Highway All-Season\",\"tireType\":\"SUV/CUV\",\"tireGroupName\":\"Light Truck Tires\",\"tireSize\":\"P215/70R16\",\"retailPrice\":\"133.99\",\"sidewallDescription\":\"Black Letter/Black Wall\"}}";
			
		ObjectMapper mapper = new ObjectMapper();
		tireQuote = mapper.readValue(jsonStrPromo, TireQuote.class);
		
		return tireQuote;
	}
	
	public BatteryQuote getBatteryQuote(String quoteId) throws JSONException, JsonParseException, JsonMappingException, IOException {
		/*
		String jsonStr = "{\"quoteId\":\"9038\",\"storeNumber\":\"11940\",\"zip\":\"85308\",\"createdDate\":\"2016-06-01T12:48:52.000-05:00\",\"donationName\":\"0\",\"donationAmount\":\"0.0\",\"donationArticle\":\"\",\"quantity\":\"1\",\"priceForQuantity\":\"99.99\",\"installationForQuantity\":\"14.99\",\"subtotal\":\"114.98\",\"total\":\"114.98\",\"isEligibleForBatteryRebate\":\"false\",\"battery\":{\"productName\":\"Mega-Tron II\",\"productCode\":\"MT-24F\",\"product\":\"MT\",\"partNumber\":\"7005423\",\"totalWarrantyMonths\":\"60\",\"replacementWarrantyMonths\":\"24\",\"performanceWarrantyMonths\":\"60\",\"coldCrankingAmps\":\"600\",\"reserveCapacityMinutes\":\"110\",\"webPrice\":\"99.99\",\"tradeInCredit\":\"20\",\"installationAmount\":\"14.99\",\"salesText\":\"Get long life and premium performance with the Maintenance-Free Mega-Tron II, backed by 24 months free replacement and a 5-year performance warranty.\",\"regularPrice\":\"119.99\",\"discountAmount\":\"0\",\"hasPricing\":\"true\",\"expirayDate\":null},\"vehicle\":{\"year\":\"2012\",\"make\":\"Acura\",\"model\":\"MDX\",\"engine\":\"V6/3.7L\"}}";
		ObjectMapper mapper = new ObjectMapper();
		BatteryQuote batteryQuote = mapper.readValue(jsonStr, BatteryQuote.class);
		*/
		
		Table table = dynamoDB.getTable("InterstateBatteryQuote");
		System.out.println("Quote Id: " + quoteId);
		GetItemSpec spec = new GetItemSpec()
			.withPrimaryKey("quoteId", Long.parseLong(quoteId))
			.withConsistentRead(true);
		Item item = table.getItem(spec);
		System.out.println("To JSON: " + item.toJSON());
		ObjectMapper mapper = new ObjectMapper();
		BatteryQuote batteryQuote = mapper.readValue(item.toJSON(), BatteryQuote.class);
		
		return batteryQuote;
	}
	
	public AlignmentPricingQuote getAlignmentPricingQuote(String quoteId) throws JSONException, JsonParseException, JsonMappingException, IOException {
		String batteryStr = "{\"alignmentQuoteId\":\"4835\",\"storeNumber\":\"23817\",\"vehicleYear\":\"2010\",\"vehicleMake\":\"Hyundai\",\"vehicleModel\":\"Accent\",\"vehicleSubmodel\":\"GLS\",\"zip\":\"60139-2166\",\"alignmentPricingId\":\"0\",\"pricingName\":\"Standard Pricing\",\"article\":\"7009500\",\"price\":\"79.99\",\"webSite\":\"FCAC\",\"createdDate\":\"2016-01-20T07:57:53.000-06:00\"}";
		ObjectMapper mapper = new ObjectMapper();
		AlignmentPricingQuote alignmentPricingQuote = mapper.readValue(batteryStr, AlignmentPricingQuote.class);
		return alignmentPricingQuote;
	}
	
	public Store getStoreDetail(String storeNumber) throws JsonParseException, JsonMappingException, IOException {
		
		Table table = dynamoDB.getTable("Stores");
		System.out.println("Store Number: " + storeNumber);
		GetItemSpec spec = new GetItemSpec()
			//.withPrimaryKey("storeNumber", Integer.parseInt(storeNumber))
			.withPrimaryKey("storeNumber", Integer.parseInt(storeNumber), "siteName", "FCAC")
			.withConsistentRead(true);
		Item item = table.getItem(spec);
		System.out.println("To JSON: " + item.toJSON());
		ObjectMapper mapper = new ObjectMapper();
		Store store = mapper.readValue(item.toJSON(), Store.class);
		
		/*
		String storeStr = "{\"storeNumber\":\"11940\",\"areaId\":\"PXPR\",\"areaName\":\"PEORIA AREA\",\"regionId\":\"PX02\",\"regionName\":\"Southwest \",\"divisionId\":\"SD\",\"divisionName\":\"South \",\"storeName\":\"Firestone Complete Auto Care\",\"address\":\"3540 W Bell Rd\",\"city\":\"Glendale\",\"state\":\"AZ\",\"zip\":\"85308-4314\",\"phone\":\"(602) 904-8002\",\"trackingPhone\":\"(602) 904-8002\",\"managerName\":\"Daniel Debusk\",\"managerEmailAddress\":\"011940@bfrc.com\",\"storeType\":\"FCAC\",\"activeFlag\":\"1\",\"latitude\":\"33.639645\",\"longitude\":\"-112.1358\",\"onlineAppointmentActiveFlag\":\"0\",\"tirePricingActiveFlag\":\"1\",\"fax\":\"(602) 938-0554\",\"localPageURL\":\"http://firestone.staging.getlocal.co/location/11940\",\"eCommActiveFlag\":\"1\",\"hours\":[{\"weekDay\":\"SUN\",\"openTime\":\"08:00\",\"closeTime\":\"17:00\"},{\"weekDay\":\"MON\",\"openTime\":\"07:00\",\"closeTime\":\"19:00\"},{\"weekDay\":\"TUE\",\"openTime\":\"07:00\",\"closeTime\":\"19:00\"},{\"weekDay\":\"WED\",\"openTime\":\"07:00\",\"closeTime\":\"19:00\"},{\"weekDay\":\"THU\",\"openTime\":\"07:00\",\"closeTime\":\"19:00\"},{\"weekDay\":\"FRI\",\"openTime\":\"07:00\",\"closeTime\":\"19:00\"},{\"weekDay\":\"SAT\",\"openTime\":\"07:00\",\"closeTime\":\"18:00\"}],\"holidays\":[{\"year\":\"2017\",\"month\":\"4\",\"day\":\"16\",\"holidayId\":\"6\",\"description\":\"Easter\"}]}";
		//ObjectMapper mapper = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);
		ObjectMapper mapper = new ObjectMapper();
		Store store = mapper.readValue(storeStr, Store.class);
		//store.setStoreHour(getStoreHourHTML(store.getHours(), true));
		*/
		
		return store;
	}
	
	public static final String DAY_ABBREV[] = {
        "MON", "TUE", "WED", "THU", "FRI", "SAT", "SUN"
    };
	
	public String getStoreHourHTML(Collection<StoreHour> storeHours, boolean isFormatted) {
		String out = "";
		if (storeHours == null || storeHours.isEmpty())
			return out;
		for (int i=0; i<7; i++) {
			StoreHour curr = getStoreHour(storeHours, DAY_ABBREV[i]);
			if (curr == null)
				continue;
			for (int j=i+1; j<=7; j++) {
				StoreHour test = null;
				if (j<7)
					test = getStoreHour(storeHours, DAY_ABBREV[j]);
				if (test != null && test.equals(curr))
                    continue;
				if (isFormatted)
					out = out + getHourFormattedHTML(i, j - 1, curr);
				else
					out = out + getHourHTML(i, j - 1, curr);
				i = j - 1;
				break;
			}		
		}
		return out;		
	}
	
	public StoreHour getStoreHour(Collection<StoreHour> l, String day) {
		System.out.println("getStoreHour");
		StoreHour hour = null;
		
		System.out.println(l.size() + " " + day);
		for (StoreHour temp: l) {
			System.out.println(temp.getId().getWeekDay());
		}
		
		for (StoreHour temp: l) {
			if (temp != null && temp.getId().getWeekDay().equals(day)) {
				hour = temp;
				break;
			}
		}
		return hour;
	}
	
	public String getHourFormattedHTML(int begin, int end, StoreHour hour) {
		if(hour == null || hour.getOpenTime() == null || hour.getCloseTime() == null)
            return "";
        String out = "<b>" + DAY_ABBREV[begin];
        if(end > begin)
        {
            out = out + "&#45;" + DAY_ABBREV[end];            
        }
        return out + ":</b> " + format(hour.getOpenTime()) + "&#45;" + format(hour.getCloseTime()) + "<br />";
	}
	
	public String getHourHTML(int begin, int end, StoreHour hour) {
		if(hour == null || hour.getOpenTime() == null || hour.getCloseTime() == null)
            return "";
        String out = DAY_ABBREV[begin];
        if(end > begin)
        {
            out = out + "&#45;" + DAY_ABBREV[end];            
        }
        return out + " " + format(hour.getOpenTime()) + "&#45;" + format(hour.getCloseTime()) + "<br />";
	}
	
	public static String format(String time) {
        String temp = pad(time);
        int hour = Integer.valueOf(temp.substring(0, 2)).intValue();
        String m = "am";
        if(hour > 11)
        {
            m = "pm";
            if(hour > 12)
                hour -= 12;
        }
        String out = Integer.toString(hour) + ":" + temp.substring(3, 5);
        return out + m;
    }
	
	public static String pad(String param) {
        if(param == null)
            return null;
        String temp = param.trim();
        if(temp.length() < 5)
            return "0" + temp;
        return temp;
    }
}
